cmake_minimum_required(VERSION 3.12)
project(namelint)

set(PREBUILD_DIR $ENV{NAMELINT_DEVTLS} )
set(PREBUILD_DIR_LLVM  ${PREBUILD_DIR}/llvm)
set(PREBUILD_DIR_GTEST ${PREBUILD_DIR}/gtest)

IF (MSVC)
   set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /wd4141")
   set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /wd4244")
   set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /wd4146")
   set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /wd4291")
   set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /wd4227")
   set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /wd4099")
   set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /wd4996")   
ENDIF (MSVC)

IF (UNIX)
ENDIF (UNIX)

include_directories(${PREBUILD_DIR_LLVM}/include
                    ${PREBUILD_DIR_LLVM}/build/include
                    ${PREBUILD_DIR_LLVM}/build/tools/clang/include
                    ${PREBUILD_DIR_LLVM}/tools/clang/include
                    ${PREBUILD_DIR_GTEST}/v1.8.1/include)

link_directories(${PREBUILD_DIR_LLVM}/build/Debug/lib
                 ${PREBUILD_DIR_GTEST}/v1.8.1/msvc2017/32-bit)

add_executable(namelint
               Module/tinytoml.git/include/toml/toml.h               
               Source/Detection.h
               Source/Detection.cpp
               Source/Common.h
               Source/Common.cpp
               Source/ParseAST.h
               Source/ParseAST.cpp
               Source/Config.h
               Source/Config.cpp
               Source/Main.cpp
               Source/Test/TestConfig.cpp)

target_link_libraries(namelint
                      gtestd.lib
                      Version.lib
                      clangAnalysis.lib
                      clangARCMigrate.lib
                      clangAST.lib
                      clangASTMatchers.lib
                      clangBasic.lib
                      clangCodeGen.lib
                      clangCrossTU.lib
                      clangDriver.lib
                      clangDynamicASTMatchers.lib
                      clangEdit.lib
                      clangFormat.lib
                      clangFrontend.lib
                      clangFrontendTool.lib
                      clangHandleCXX.lib
                      clangHandleLLVM.lib
                      clangIndex.lib
                      clangLex.lib
                      clangParse.lib
                      clangRewrite.lib
                      clangRewriteFrontend.lib
                      clangSema.lib
                      clangSerialization.lib
                      clangStaticAnalyzerCheckers.lib
                      clangStaticAnalyzerCore.lib
                      clangStaticAnalyzerFrontend.lib
                      clangTooling.lib
                      clangToolingASTDiff.lib
                      clangToolingCore.lib
                      clangToolingInclusions.lib
                      clangToolingRefactor.lib
                      gtest.lib
                      gtest_main.lib
                      Kaleidoscope-Ch4.lib
                      Kaleidoscope-Ch5.lib
                      Kaleidoscope-Ch6.lib
                      Kaleidoscope-Ch7.lib
                      Kaleidoscope-Ch8.lib
                      Kaleidoscope-Ch9.lib
                      libclang.lib
                      LLVMAArch64AsmParser.lib
                      LLVMAArch64AsmPrinter.lib
                      LLVMAArch64CodeGen.lib
                      LLVMAArch64Desc.lib
                      LLVMAArch64Disassembler.lib
                      LLVMAArch64Info.lib
                      LLVMAArch64Utils.lib
                      LLVMAggressiveInstCombine.lib
                      LLVMAMDGPUAsmParser.lib
                      LLVMAMDGPUAsmPrinter.lib
                      LLVMAMDGPUCodeGen.lib
                      LLVMAMDGPUDesc.lib
                      LLVMAMDGPUDisassembler.lib
                      LLVMAMDGPUInfo.lib
                      LLVMAMDGPUUtils.lib
                      LLVMAnalysis.lib
                      LLVMARMAsmParser.lib
                      LLVMARMAsmPrinter.lib
                      LLVMARMCodeGen.lib
                      LLVMARMDesc.lib
                      LLVMARMDisassembler.lib
                      LLVMARMInfo.lib
                      LLVMARMUtils.lib
                      LLVMAsmParser.lib
                      LLVMAsmPrinter.lib
                      LLVMBinaryFormat.lib
                      LLVMBitReader.lib
                      LLVMBitWriter.lib
                      LLVMBPFAsmParser.lib
                      LLVMBPFAsmPrinter.lib
                      LLVMBPFCodeGen.lib
                      LLVMBPFDesc.lib
                      LLVMBPFDisassembler.lib
                      LLVMBPFInfo.lib
                      LLVMCodeGen.lib
                      LLVMCore.lib
                      LLVMCoroutines.lib
                      LLVMCoverage.lib
                      LLVMDebugInfoCodeView.lib
                      LLVMDebugInfoDWARF.lib
                      LLVMDebugInfoMSF.lib
                      LLVMDebugInfoPDB.lib
                      LLVMDemangle.lib
                      LLVMDlltoolDriver.lib
                      LLVMExecutionEngine.lib
                      LLVMFuzzMutate.lib
                      LLVMGlobalISel.lib
                      LLVMHexagonAsmParser.lib
                      LLVMHexagonCodeGen.lib
                      LLVMHexagonDesc.lib
                      LLVMHexagonDisassembler.lib
                      LLVMHexagonInfo.lib
                      LLVMInstCombine.lib
                      LLVMInstrumentation.lib
                      LLVMInterpreter.lib
                      LLVMipo.lib
                      LLVMIRReader.lib
                      LLVMLanaiAsmParser.lib
                      LLVMLanaiAsmPrinter.lib
                      LLVMLanaiCodeGen.lib
                      LLVMLanaiDesc.lib
                      LLVMLanaiDisassembler.lib
                      LLVMLanaiInfo.lib
                      LLVMLibDriver.lib
                      LLVMLineEditor.lib
                      LLVMLinker.lib
                      LLVMLTO.lib
                      LLVMMC.lib
                      LLVMMCDisassembler.lib
                      LLVMMCJIT.lib
                      LLVMMCParser.lib
                      LLVMMipsAsmParser.lib
                      LLVMMipsAsmPrinter.lib
                      LLVMMipsCodeGen.lib
                      LLVMMipsDesc.lib
                      LLVMMipsDisassembler.lib
                      LLVMMipsInfo.lib
                      LLVMMIRParser.lib
                      LLVMMSP430AsmPrinter.lib
                      LLVMMSP430CodeGen.lib
                      LLVMMSP430Desc.lib
                      LLVMMSP430Info.lib
                      LLVMNVPTXAsmPrinter.lib
                      LLVMNVPTXCodeGen.lib
                      LLVMNVPTXDesc.lib
                      LLVMNVPTXInfo.lib
                      LLVMObjCARCOpts.lib
                      LLVMObject.lib
                      LLVMObjectYAML.lib
                      LLVMOption.lib
                      LLVMOrcJIT.lib
                      LLVMPasses.lib
                      LLVMPowerPCAsmParser.lib
                      LLVMPowerPCAsmPrinter.lib
                      LLVMPowerPCCodeGen.lib
                      LLVMPowerPCDesc.lib
                      LLVMPowerPCDisassembler.lib
                      LLVMPowerPCInfo.lib
                      LLVMProfileData.lib
                      LLVMRuntimeDyld.lib
                      LLVMScalarOpts.lib
                      LLVMSelectionDAG.lib
                      LLVMSparcAsmParser.lib
                      LLVMSparcAsmPrinter.lib
                      LLVMSparcCodeGen.lib
                      LLVMSparcDesc.lib
                      LLVMSparcDisassembler.lib
                      LLVMSparcInfo.lib
                      LLVMSupport.lib
                      LLVMSymbolize.lib
                      LLVMSystemZAsmParser.lib
                      LLVMSystemZAsmPrinter.lib
                      LLVMSystemZCodeGen.lib
                      LLVMSystemZDesc.lib
                      LLVMSystemZDisassembler.lib
                      LLVMSystemZInfo.lib
                      LLVMTableGen.lib
                      LLVMTarget.lib
                      LLVMTestingSupport.lib
                      LLVMTransformUtils.lib
                      LLVMVectorize.lib
                      LLVMWindowsManifest.lib
                      LLVMX86AsmParser.lib
                      LLVMX86AsmPrinter.lib
                      LLVMX86CodeGen.lib
                      LLVMX86Desc.lib
                      LLVMX86Disassembler.lib
                      LLVMX86Info.lib
                      LLVMX86Utils.lib
                      LLVMXCoreAsmPrinter.lib
                      LLVMXCoreCodeGen.lib
                      LLVMXCoreDesc.lib
                      LLVMXCoreDisassembler.lib
                      LLVMXCoreInfo.lib
                      LLVMXRay.lib
                      LTO.lib
                      clangParse.lib
                      clangSerialization.lib
                      clangDriver.lib
                      clangIndex.lib
                      clangSema.lib
                      clangAnalysis.lib
                      clangAST.lib
                      clangFrontend.lib
                      clangEdit.lib
                      clangLex.lib
                      clangBasic.lib
                      LLVMSupport.lib
                      LLVMCore.lib
                      LLVMMC.lib)